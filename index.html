<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Freedom FM 104.1 â€” Video Stream</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>
  <nav class="navbar">
    <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    <h1>Freedom FM 104.1</h1>
  </nav>

  <div class="side-panel" id="sidePanel">
    <div class="side-panel-header">
      <h2>Menu</h2>
      <button class="close-btn" id="closeBtn">&times;</button>
    </div>
    <ul class="nav-links">
      <li><a href="index.html" class="nav-link active"><i class="fas fa-video"></i> Video Stream</a></li>
      <li><a href="live-audio.html" class="nav-link"><i class="fas fa-microphone"></i> Live Audio</a></li>
      <li><a href="#cms-login" class="nav-link" id="cmsLoginBtn"><i class="fas fa-cog"></i> CMS Login</a></li>
    </ul>
  </div>
  <div class="overlay" id="overlay"></div>

  <main class="main-content">
    <div class="video-section">
      <h2 id="videoTitle">ðŸŽ¥ Featured Live Stream</h2>
      <div class="video-container">
        <iframe id="facebookVideo"
          src="https://www.facebook.com/plugins/video.php?height=315&href=https://www.facebook.com/facebook/videos/10153231379946729/&show_text=false&width=560"
          width="100%" height="100%" style="border:none;overflow:hidden;" allowfullscreen
          allow="autoplay; encrypted-media; picture-in-picture"></iframe>
      </div>
    </div>

    <div class="chat-box">
      <h4>ðŸ’¬ Live Chat</h4>
      <div class="chat-messages" id="chatMessages"></div>
      <div class="chat-input">
        <input id="chatInput" placeholder="Type a message..." />
        <button id="sendBtn"><i class="fas fa-paper-plane"></i></button>
      </div>
      <div class="listeners" id="listenersCount">ðŸ‘¥ 0 listeners online</div>
    </div>
  </main>

  <!-- CMS Modal -->
  <div class="modal" id="cmsModal">
    <div class="modal-content">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
        <h2 style="color:#7efcff">CMS Login</h2>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <form id="cmsLoginForm">
        <div class="form-group"><label>Username</label><input type="text" id="username" required></div>
        <div class="form-group"><label>Password</label><input type="password" id="password" required></div>
        <button class="btn-primary" type="submit">Login</button>
      </form>
    </div>
  </div>

  <!-- Firebase v12 -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDA6pJUt5qRFFTaV0vOa5GTnW9VlOfVyH0",
      authDomain: "freedom-fm-5a75b.firebaseapp.com",
      databaseURL: "https://freedom-fm-5a75b-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "freedom-fm-5a75b",
      storageBucket: "freedom-fm-5a75b.firebasestorage.app",
      messagingSenderId: "209973948387",
      appId: "1:209973948387:web:0cebd40b408a9d4bdd7ad6",
      measurementId: "G-2CW383NGGN"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    window.firebaseApp = app;
    window.database = database;
  </script>

  <script src="script.js"></script>
  <script src="github-config.js"></script>
</body>
</html>
